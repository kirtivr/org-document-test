#+title: Which is a good format to make documents?
#+options: toc:nil tex:imagemagick
# #+property: cache yes 
# #+property: exports results

#+latex_header: \usepackage{amsthm}
#+latex_header: \newtheorem{theorem}{Theorem}
#+latex_header: \newtheorem{definition}{Definition}

#+LaTeX_HEADER: \hypersetup{colorlinks=true, linkcolor=blue}

#+HTML_HEAD: <style>.theorem {}
#+HTML_HEAD: .theorem:before {content: "Theorem: "; font-weight: bold}</style>
#+HTML_HEAD: <style>.definition {}
#+HTML_HEAD: .definition:before {content: "Definition: "; font-style: italic; font-weight: bold}</style>

* The problem

  I want to have a format that I can convert to ~pdf, html~, and maybe
  ~odt~. The formats I know well are

  - LaTeX
  - org

  One thing I like about org is that it is rather simple, and the
  documents look clean. I do not like that it seems to change constantly
  and that it is not as universally known as LaTeX.

  #+BEGIN_CENTER
  This is stuff to be centered.
  #+END_CENTER

  #+BEGIN_COMMENT
  This is an inline comment. It will not be exported, no matter
  what. One can also mark whole subtrees with COMMENT.
  #+END_COMMENT

  1. A first item in a list.
  2. Another item
     1. With three subparts. This one.
     2. Another one.
     3. <<last>> And the last subpart.

* Requirements

I want to use:

- links, say [[http://google.com][Google]].
- images, say the one in Figure [[clock]].

  #+name: clock
  #+caption: A test image
  #+attr_latex: :width 5cm
  #+attr_html: :align center
  [[./clock.png]]
  
  Apparently one has to have a blank line so that the image looks
  OK. Also, with a caption, the image is centered both in LaTeX and
  HTML export.

* Other requirements

- code, say
  #+begin_src python
    def test(a):
        """This is just a test
        
        Arguments:
        - `a`: test argument
        """
  #+end_src
- math symbols, say \(a^{2}+b^{2}=c^{2}\)
- displayed equations, like:

  #+NAME: the-equation
  <<the-equation>>
  \begin{equation}
  a^{2}+b^{2}=c^{2}
  \end{equation}

* Theorems

- theorems, definitions, etc.

  #+name: thm-1
  #+begin_theorem
  <<thm-1>>
  There are infinite prime numbers \(p\).
  #+end_theorem
  
  A definition:
  #+name: def-closed
  #+begin_definition
  A set is /closed/ if its complement is open.
  #+end_definition

- references, to a bibliographic resource or to another theorem
  previously stated.
- tables, say:

  #+caption: This is a test table
  #+NAME: the-table
  #+attr_latex: :align |c|c|c|
  #+attr_html: :align center
  |---+---+---|
  | a | b | c |
  |---+---+---|
  | x | y | z |
  |---+---+---|

* COMMENT Misc

  This block produces a picture of the code:
  #+begin_src latex :file frac.png :results raw
  \(
  \frac{1}{2}
  \)
  #+end_src

  #+RESULTS:
  [[file:frac.png]]

* Resources

** In blogs

- [[http://drvinceknight.blogspot.mx/2013/04/makefiles-for-tikz-sagemath-and.html][Makefiles for tikz sagemath and teaching notes written in markdown]]
  Dr. Knight shows a workflow having markdown as source format. Also
  uses ~sage~ for producing images.

- [[http://bowenli37.wordpress.com/tag/org-exp-bibtex/][org-exp-bibtex | Sail Home]] A post describing the use of
  ~org-exp-bibtex~, which has been removed from org-mode, as seen in:
  [[http://thread.gmane.org/gmane.emacs.orgmode/67488/focus%3D67839][org-exp-bibtex missing in git?]] From that thread, this post by Eric
  Fraga seems to be useful: [[http://thread.gmane.org/gmane.emacs.orgmode/67488/focus%3D67839][org-exp-bibtex missing in git?]] as this by
  Rasmus: [[http://thread.gmane.org/gmane.emacs.orgmode/67488/focus%3D67839][org-exp-bibtex missing in git?]] BTW, this might be the
  origin of all the code using bibtex in org: [[http://article.gmane.org/gmane.emacs.orgmode/2406/match%3Dbibliography][dealing with a bibliography]]
- Eric's suggestion apparently uses ~ebib~: [[https://github.com/joostkremers/ebib][joostkremers/ebib · GitHub]]

- About pandoc: [[http://chronicle.com/blogs/profhacker/pandoc-converts-all-your-text-documents][Pandoc Converts All Your (Text) Documents -
  ProfHacker]] and [[http://chronicle.com/blogs/profhacker/make-your-own-e-books-with-pandoc][Make Your Own E-Books with Pandoc - ProfHacker]]

** blogs in org

- [[http://orgmode.org/worg/org-blog-wiki.html][Org Blogs and Wikis]]
- Publishing in info: [[info:org#Publishing]]
- A thread in the mailing list: [[http://comments.gmane.org/gmane.emacs.orgmode/45360][Org-Mode for GNU Emacs]]
- A question: [[http://stackoverflow.com/questions/8025703/how-to-create-a-personal-wikiblog-on-github-using-org-mode][How to create a personal wiki+blog on github using org-mode?]]
- [[https://github.com/renard/o-blog][renard/o-blog · GitHub]], the page: [[http://renard.github.io/o-blog/][Quick start Guide]]
- More on blogging from org: [[http://jaderholm.com/blog/blogging-with-org-mode-and-octopress][Scott Jaderholm: Blogging With Org-mode and Octopress]]
- [[http://blog.paphus.com/blog/2012/08/01/introducing-octopress-blogging-for-org-mode/][Introducing Octopress Blogging for Org-Mode - On Programming]], the
  repo: [[https://github.com/craftkiller/orgmode-octopress][craftkiller/orgmode-octopress · GitHub]]

** github

- [[http://rvf0068.github.io/org-document-test/][Which is a good format to make documents?]] The github page of this document...

* References

** To the equation

We reference equation [[the-equation]] and table [[the-table]] and Theorem
[[thm-1]] and Figure [[clock]]. And also item [[last]].

** To books

   We cite [[cite:posetfiber]] and [[cite:MR86d:00001]]. Let us also cite [[cite:MR2522486]].

   Note that to export bibliographies to html, one has to install
   ~bibtex2html~. For ~bibtex2html~ to work, we need to add
   #+BEGIN_EXAMPLE
     openout_any = a
   #+END_EXAMPLE
   to the local ~texmf.cnf~ file, say
   ~/usr/local/texlive/2014/texmf.cnf~. Care has to be taken that the
   last line has a line ending character, see [[http://www.tug.org/pipermail/tex-live/2013-May/033608.html][{tex-live} texmf.cnf
   ignored]].

** State of the references
   Currently, on [2014-08-10 Sun], with org-version:
   #+BEGIN_EXAMPLE
     Org-mode version 8.3beta (release_8.3beta-211-gb3fbd3 @ /home/rafael/.emacs.d/site-lisp/org-mode/lisp/)
   #+END_EXAMPLE

   #+attr_html: :align center
   |                | pdf   | html  |
   |----------------+-------+-------|
   | figures        | works | works |
   | equations      | works |       |
   | tables         | works | works |
   | theorems       | works |       |
   | biblio         | works | works |
   | items in lists | works | works |

#+BIBLIOGRAPHY: ./bibliotest plain limit:t

